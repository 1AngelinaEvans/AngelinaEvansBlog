---
title: "Week 6 Wrap-Up"
author: "Angelina Evans"
date: "2023-06-22"
categories: ["Week Six", "Weekly Wrap-ups"]
---

# Housing Team Week 6 Wrap-Up

## WinVEST Project

![New Hampton records in the Fulcrum app.](NewHamptonFulcrum.png){fig-align="center" width="299"}

On Monday and Tuesday of week six, the DSPG team traveled to Grundy Center, New Hampton and Independence, Iowa. In groups of 3-4 people, we walked around residential areas and observed the condition of houses and lots. The Fulcrum app was used to record observations. We assigned good, fair and poor ratings to attributes such as:

-   Roof

-   Gutter

-   Landscape

-   Siding

-   Sidewalk to the house

    We also noted whether there was junk or obstructions on the property and took photos of the houses.

![](NoticedSiding.png){fig-align="center" width="335"}

While in residential neighborhoods, we also gave general impressions of blocks by observing presence and quality of:

-   Neighborhood sidewalks

-   Street lights

-   Way-finding signs

-   Storm drainage systems

-   Curb cuts

-   Street trees

    ![](WinVEST2.jpg){width="248"}

## Demographic Profiles

One of the goals of the project has been to provide demographic profiles of the three cities focused on for the WinVEST project : Independence, New Hampton and Grundy Center. We want to show characteristics related to income and population, and how these characteristics have been changing through the years or how they are expected to change in the future. Several graphs were made in R to show these three cities' economic and population backgrounds.

![](GMedianHomeValue.png){fig-align="center" width="368"}

![](GMedIncome.png){fig-align="center" width="364"}

![](GPopProjections.png){fig-align="center" width="418"}

![](GPopulationChange.png){fig-align="center" width="406"}

![](GMedHouseValue.png){fig-align="center"}

![](GMedIncome2009.png){fig-align="center"}

![](GYearBuilt.png){width="475"}

## Progress on AI Models

So far, all models are implemented! Now what is needed is a way to get the model outputs into a format that is useful for us. We need to write the outputs to a csv file. The script below is used to write to a CSV file in the correct attribute column based on the address being evaluated.

![](GavinScript1.png){fig-align="center"}

![](GavinScript2.png){fig-align="center" width="442"}

##  Mapping

Writing model outputs to csv files will be helpful for the mapping process.

In time, we hope to use maps to display well-trained AI model ratings for landscapes, siding, gutters etc. This will allow us and our clients to visualize where better quality homes are vs lower quality.

To visualize addresses for the WinVEST cities and Slater, first we need to geocode them (get a latitude and longitude for each address). This was done using R. Base code was from [storybench](https://www.storybench.org/geocode-csv-addresses-r/).

```{r eval=FALSE, include=FALSE}

# Geocoding a csv column of "addresses" in R
install.packages("ggmap")
#load ggmap
install.packages("ggplot2")
library(ggmap)

dir.create("geocoded")

# Select the file from the file chooser
fileToLoad <- file.choose(new = TRUE)

# Read in the CSV data and store it in a variable 
origAddress <- read.csv(fileToLoad, stringsAsFactors = FALSE)

# Initialize the data frame
geocoded <- data.frame(stringsAsFactors = FALSE)

# API Key here, TAKE OUT WHEN PUSHING TO GITHUB---DO NOT SHARE KEY
register_google(key = "key goes here")

# Loop through the addresses to get the latitude and longitude of each address and add it to the
# origAddress data frame in new columns lat and lon
for(i in 1:nrow(origAddress))
{
  # Print("Working...")
  result <- geocode(origAddress$Full_Address[i], output = "latlon", source = "google")
  origAddress$lon[i] <- as.numeric(result[1])
  origAddress$lat[i] <- as.numeric(result[2])
  #origAddress$geoAddress[i] <- as.character(result[3])
}

folder <- "folder path goes here"
file <- "geocoded_all_cities.csv"

# Write a CSV file containing origAddress to the working directory
write.csv(origAddress, file.path(folder, file), row.names=FALSE)
```

Addresses are plotted in QGIS using the coordinates. There are some addresses that are not in the correct place. For example, there is a point in Marion, which is in Linn County. This point is supposed to be located in Independence, IA. This is something to look into next week.

![](AllCitiesPoints.png){fig-align="center" width="279"}

#### Preparing to map AI-based data

A sample map was created in which gutter quality for houses in the city are shown.

![Legend is still in progress. The darkest orange is "poor", lighter orange is "fair", and the blue is "good".](Slater_Sample_Gutter_Quality_Map.png){fig-align="center"}

## 

Meeting with Tara (last name?)

On Thursday we met online with Tara, who is a county assessor, and Erin Mullenix, one of our clients. We learned many things from this meeting.

-   Unfortunately, we can't scrape Beacon and Vanguard.

-   We learned about the appraisal process Tara and her team follow.

-   Usually, the outside conditions of a home are a good indicator of what the inside looks like.

#### Minimizing Bias: 

-   no assessing when hungover, having a bad day, or its raining outside.

-   the records are reviewed by another person before being finalized.

## Things That Went Well

## Things That Didn't Go So Well

40 lines of code using the csv library to almost have the previous statement true where it took 10 lines of code using the pandas library to fully work

## Some Plans for Next Week

-   Meet with Erin Olsen-Douglas and Erin Mullenix (our clients) to give an update on what we have accomplished since last meeting.

-   Continue to work on demographic profile of the four cities (unless ur done)

-   Finish script that will allow us to have the model's outputs in a csv file. Use file(s) to visualize the quality of houses.

## Questions
